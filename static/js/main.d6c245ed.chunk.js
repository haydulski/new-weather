(this["webpackJsonpnowa-prognoza"]=this["webpackJsonpnowa-prognoza"]||[]).push([[0],{24:function(e,t,c){},46:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),r=c(19),s=c.n(r),i=(c(24),c(45),c.p+"static/media/earth.2830c4e0.png"),o=c(0);var u=function(){return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("div",{className:"header",children:[Object(o.jsx)("h1",{children:Object(o.jsx)("circular-text",{text:" * Aktualna pogoda * Aktualna pogoda",radius:"220"})}),Object(o.jsx)("img",{src:i,alt:"planeta ziemia z kosmosu"})]})})},j=c(4),l=c(3),p=c.n(l),b=c(5),d=c(8),h=c(9),O=c.n(h),m=function(e){var t=e.countries;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("option",{children:"wybierz kraj"}),t.map((function(e,t){return Object(o.jsx)("option",{value:e,children:e},t)}))]})},x=function(e){var t=e.cities;return Object(o.jsx)(o.Fragment,{children:t.map((function(e,t){return Object(o.jsx)("option",{value:e,children:e},t)}))})},f=function(e){var t=e.weather,c=e.city,a=t.feels_like,n=t.humidity,r=t.pressure,s=t.temp;return t.humidity?Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:"weather-panel",children:Object(o.jsxs)("div",{className:"number",children:[Object(o.jsxs)("h2",{children:["Pogoda w: ",c||""]}),Object(o.jsx)("p",{className:"separator"}),Object(o.jsxs)("p",{className:"temp",children:["Temepartura: ",Object(o.jsxs)("b",{children:[s,"\xb0C"]})]}),Object(o.jsxs)("p",{className:"temp-fill",children:["Temepartura odczuwalna: ",Object(o.jsxs)("b",{children:[a,"\xb0C"]})]}),Object(o.jsxs)("p",{className:"pressure",children:["Ci\u015bnienie: ",Object(o.jsxs)("b",{children:[r,"hPa"]})]}),Object(o.jsxs)("p",{className:"humidy",children:["Wilgotno\u015b\u0107: ",Object(o.jsxs)("b",{children:[n,"%"]})]})]})})}):Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:"weather-panel",children:Object(o.jsx)("h3",{children:t.error&&t.error})})})},v=c.p+"static/media/clouds.70981c76.mp4";var y=function(){var e=Object(a.useState)(),t=Object(d.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)(0),s=Object(d.a)(r,1)[0],i=Object(a.useState)({country:null,city:["cities"],choosenCity:null,flag:!1}),u=Object(d.a)(i,2),l=u[0],h=u[1],y=Object(a.useState)({}),g=Object(d.a)(y,2),w=g[0],k=g[1],C=function(){var e=Object(b.a)(p.a.mark((function e(){var t,c,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://countriesnow.space/api/v0.1/countries/capital",e.prev=1,e.next=4,O.a.get("https://countriesnow.space/api/v0.1/countries/capital");case 4:t=e.sent,c=t.data,a=[],c.data.forEach((function(e){a.push(e.name)})),a.sort(),n(a),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.warn("b\u0142\u0105d zapyatnia o kraje");case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(b.a)(p.a.mark((function e(){var t,c,a,n,r,s=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]?s[0]:"Poland",c="https://countriesnow.space/api/v0.1/countries/population/cities/filter",null!==t){e.next=6;break}h(Object(j.a)(Object(j.a)({},l),{},{city:["wybierz miasto"]})),e.next=22;break;case 6:return e.prev=6,e.next=9,O.a.post(c,{limit:40,order:"asc",orderBy:"name",country:t},{timeout:1e3});case 9:a=e.sent,n=a.data,r=[],n.data.forEach((function(e){return r.push(e.city)})),h(Object(j.a)(Object(j.a)({},l),{},{city:r,flag:!0})),e.next=22;break;case 16:return e.prev=16,e.t0=e.catch(6),h(Object(j.a)(Object(j.a)({},l),{},{city:["brak miast"],flag:!1})),k({}),console.warn("b\u0142\u0105d zapytania o miasta"),e.abrupt("return");case 22:case"end":return e.stop()}}),e,null,[[6,16]])})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(b.a)(p.a.mark((function e(){var t,c,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"http://api.openweathermap.org/data/2.5/","a971a0d5904a806c8727838afc5882c5",t="".concat("http://api.openweathermap.org/data/2.5/","weather?q=").concat(l.choosenCity,"&appid=").concat("a971a0d5904a806c8727838afc5882c5","&units=metric"),e.prev=3,e.next=6,O.a.get(t);case 6:c=e.sent,a=c.data,k(a.main),e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(3),console.log("no data about this city"),k({error:"brak danych"}),e.abrupt("return");case 16:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}(),F=function(e){h(Object(j.a)(Object(j.a)({},l),{},{choosenCity:e.target.value})),k({})};return Object(a.useEffect)((function(){C()}),[s]),Object(a.useEffect)((function(){N(l.country)}),[l.country]),c?Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("div",{className:"section__main",children:[Object(o.jsx)("video",{autoPlay:!0,muted:!0,loop:!0,id:"myVideo",children:Object(o.jsx)("source",{src:v,type:"video/mp4"})}),Object(o.jsxs)("form",{action:"#",onSubmit:function(e){e.preventDefault(),z()},children:[Object(o.jsx)("select",{name:"country",id:"country",onChange:function(e){h(Object(j.a)(Object(j.a)({},l),{},{country:e.target.value,choosenCity:null}))},children:Object(o.jsx)(m,{countries:c})}),Object(o.jsx)("select",{name:"city",id:"city",disabled:!l.flag,onChange:F,onClick:F,children:Object(o.jsx)(x,{cities:l.city})}),Object(o.jsx)("input",{type:"submit",value:"Sprawd\u017a pogod\u0119",disabled:!l.choosenCity})]}),Object(o.jsx)(f,{weather:w,city:l.choosenCity})]})}):Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("h1",{children:"\u0141adowanie"})})};var g=function(){return Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)(u,{}),Object(o.jsx)(y,{})]})};s.a.render(Object(o.jsx)(n.a.StrictMode,{children:Object(o.jsx)(g,{})}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.d6c245ed.chunk.js.map