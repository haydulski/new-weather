(this["webpackJsonpnowa-prognoza"]=this["webpackJsonpnowa-prognoza"]||[]).push([[0],{24:function(e,t,c){},46:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),r=c(19),i=c.n(r),s=(c(24),c(6)),o=(c(45),c.p+"static/media/earth.2830c4e0.png"),u=c(0);var j=function(){var e=Object(a.useState)(window.innerWidth),t=Object(s.a)(e,2),c=t[0],n=t[1];return Object(a.useEffect)((function(){window.addEventListener("resize",(function(){n(window.innerWidth)}))})),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"header",children:[Object(u.jsx)("h1",{children:Object(u.jsx)("circular-text",{text:" * Aktualna pogoda * Aktualna pogoda",radius:c>667?"220":"180"})}),Object(u.jsx)("img",{src:o,alt:"planeta ziemia z kosmosu"})]})})},l=c(4),d=c(3),b=c.n(d),p=c(5),h=c(9),O=c.n(h),m=function(e){var t=e.countries;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("option",{children:"wybierz kraj"}),t.map((function(e,t){return Object(u.jsx)("option",{value:e,children:e},t)}))]})},x=function(e){var t=e.cities;return Object(u.jsx)(u.Fragment,{children:t.map((function(e,t){return Object(u.jsx)("option",{value:e,children:e},t)}))})},f=function(e){var t=e.weather,c=e.city,a=t.feels_like,n=t.humidity,r=t.pressure,i=t.temp;return t.humidity?Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"weather-panel",children:Object(u.jsxs)("div",{className:"number",children:[Object(u.jsxs)("h2",{children:["Pogoda w: ",c||""]}),Object(u.jsx)("p",{className:"separator"}),Object(u.jsxs)("p",{className:"temp",children:["Temepartura: ",Object(u.jsxs)("b",{children:[i,"\xb0C"]})]}),Object(u.jsxs)("p",{className:"temp-fill",children:["Temepartura odczuwalna: ",Object(u.jsxs)("b",{children:[a,"\xb0C"]})]}),Object(u.jsxs)("p",{className:"pressure",children:["Ci\u015bnienie: ",Object(u.jsxs)("b",{children:[r,"hPa"]})]}),Object(u.jsxs)("p",{className:"humidy",children:["Wilgotno\u015b\u0107: ",Object(u.jsxs)("b",{children:[n,"%"]})]})]})})}):Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"weather-panel",children:Object(u.jsx)("h3",{children:t.error&&t.error})})})},v=c.p+"static/media/clouds.70981c76.mp4";var y=function(){var e=Object(a.useState)(),t=Object(s.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)(0),i=Object(s.a)(r,1)[0],o=Object(a.useState)({country:null,city:["cities"],choosenCity:null,flag:!1}),j=Object(s.a)(o,2),d=j[0],h=j[1],y=Object(a.useState)({}),w=Object(s.a)(y,2),g=w[0],k=w[1],C=function(){var e=Object(p.a)(b.a.mark((function e(){var t,c,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://countriesnow.space/api/v0.1/countries/capital",e.prev=1,e.next=4,O.a.get("https://countriesnow.space/api/v0.1/countries/capital");case 4:t=e.sent,c=t.data,a=[],c.data.forEach((function(e){a.push(e.name)})),a.sort(),n(a),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.warn("b\u0142\u0105d zapyatnia o kraje");case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(p.a)(b.a.mark((function e(){var t,c,a,n,r,i=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:"Poland",c="https://countriesnow.space/api/v0.1/countries/population/cities/filter",null!==t){e.next=6;break}h(Object(l.a)(Object(l.a)({},d),{},{city:["wybierz miasto"]})),e.next=22;break;case 6:return e.prev=6,e.next=9,O.a.post(c,{limit:40,order:"asc",orderBy:"name",country:t},{timeout:1e3});case 9:a=e.sent,n=a.data,r=[],n.data.forEach((function(e){return r.push(e.city)})),h(Object(l.a)(Object(l.a)({},d),{},{city:r,flag:!0})),e.next=22;break;case 16:return e.prev=16,e.t0=e.catch(6),h(Object(l.a)(Object(l.a)({},d),{},{city:["brak miast"],flag:!1})),k({}),console.warn("b\u0142\u0105d zapytania o miasta"),e.abrupt("return");case 22:case"end":return e.stop()}}),e,null,[[6,16]])})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(p.a)(b.a.mark((function e(){var t,c,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.openweathermap.org/data/2.5/","a971a0d5904a806c8727838afc5882c5",t="".concat("https://api.openweathermap.org/data/2.5/","weather?q=").concat(d.choosenCity,"&appid=").concat("a971a0d5904a806c8727838afc5882c5","&units=metric"),e.prev=3,e.next=6,O.a.get(t);case 6:c=e.sent,a=c.data,k(a.main),e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(3),console.log("no data for this city"),k({error:"brak danych"}),e.abrupt("return");case 16:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}(),S=function(e){h(Object(l.a)(Object(l.a)({},d),{},{choosenCity:e.target.value})),k({})};return Object(a.useEffect)((function(){C()}),[i]),Object(a.useEffect)((function(){N(d.country)}),[d.country]),c?Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"section__main",children:[Object(u.jsx)("video",{autoPlay:!0,muted:!0,loop:!0,id:"myVideo",children:Object(u.jsx)("source",{src:v,type:"video/mp4"})}),Object(u.jsxs)("form",{action:"#",onSubmit:function(e){e.preventDefault(),z()},children:[Object(u.jsx)("select",{name:"country",id:"country",onChange:function(e){h(Object(l.a)(Object(l.a)({},d),{},{country:e.target.value,choosenCity:null}))},children:Object(u.jsx)(m,{countries:c})}),Object(u.jsx)("select",{name:"city",id:"city",disabled:!d.flag,onChange:S,onClick:S,children:Object(u.jsx)(x,{cities:d.city})}),Object(u.jsx)("input",{type:"submit",value:"Sprawd\u017a pogod\u0119",disabled:!d.choosenCity})]}),Object(u.jsx)(f,{weather:g,city:d.choosenCity})]})}):Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("h1",{children:"\u0141adowanie"})})};var w=function(){return Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)(j,{}),Object(u.jsx)(y,{})]})};i.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(w,{})}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.4e0ea108.chunk.js.map